---
import "../styles/global.css";

const response = await fetch("https://micro.blog/posts/gilcreque", {
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
});

const posts = await response.json();

const dateOptions: object = {
  year: "numeric",
  month: "long",
  day: "numeric",
};

function formatPublishDate(publishDate: string | number | Date): string {
  return new Date(publishDate).toLocaleDateString("en-US", dateOptions);
}
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8" />
    <title>Gil Creque</title>
    <meta name="description" content="Technologist and Developer" />
    <meta name="author" content="Gil Creque" />

    <!-- Google Site Verification
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta
      name="google-site-verification"
      content="baTB5HjY84P_avk0rfsFGUFu6_CqqmyNZUh13QCsLM8"
    />

    <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="img/avatar-pink-tv.jpeg"
      sizes="16x16"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="img/avatar-pink-tv.jpeg"
      sizes="16x16"
    />
    <link rel="apple-touch-icon-precomposed" href="img/avatar-pink-tv.jpeg" />
  </head>
  <body
    class="bg-violet-50 dark:bg-stone-800 text-stone-800 dark:text-violet-50 max-w-3xl mx-auto"
  >
    <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <header
      class="flex flex-col md:flex-row justify-center gap-1 items-center align-bottom"
    >
      <img
        src="img/avatar-pink-tv.jpeg"
        alt="Photo os Gil Creque in a pink TV"
        height="40px"
        width="40px"
        class="rounded-full md:mb-8"
      />
      <p class="slab mb-0 md:mb-8">&nbsp;Hello, I'm&nbsp;</p>
      <h1>Gil Creque</h1>
    </header>
    <main class="mx-2">
      <h2>About Me</h2>
      <p>
        I'm a <mark>Senior Software Engineer</mark> and <mark
          >full-stack web developer</mark
        >
        at <a href="https://www.codecraftworks.com/"
          ><img
            src="img/codey.svg"
            alt="Codey, the Codecraft Works mascot"
            width="24px"
            height="24px"
            class="inline"
          />
          Codecraft Works</a
        >, where I lead software development working on an <a
          href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1831060&HistoricalAwards=false"
          >NSF backed</a
        > education technology platform.
      </p>
      <p>
        I am graduate of <img
          src="img/ucf.svg"
          width="24px"
          height="24px"
          class="inline"
          alt="UCF University of Central Florida"
        /> (Go Knights!) but I consider myself a life-long learner, technologist,
        and tech early-adopter. I currently do work in Angular, Firebase, Google
        Cloud, ASP.NET, AWS, and STEM Education. I dabble in PHP (I used to primarily
        work in Wordpress and then Drupal), Python, and Java. I am also an organizer
        for <a href="https://gdg.community.dev/gdg-space-coast/"
          >Google Developer Group Space Coast</a
        >
      </p>
    </main>
    <aside class="mx-2">
      <h2>Social Links</h2>
      <p>You can find me around the web:</p>
      <ul>
        <li>
          <a href="https://discord.gg/TbQEhP6HPr"
            ><img
              src="img/discord.svg"
              width="24px"
              height="24px"
              class="inline"
              alt="Discord Logo"
            />
            Build and Run</a
          >, a free and public Discord for the tech and creative community
        </li>
        <li>
          <img
            src="img/microblog.svg"
            width="24px"
            height="24px"
            class="inline"
            alt="Micro.blog Logo"
          /> I try to share posts through <a href="https://gilcreque.blog/"
            >my micro.blog</a
          >
        </li>
        <li>
          <img
            src="img/mastodon.svg"
            width="24px"
            height="24px"
            class="inline"
            alt="Mastodon Logo"
          /> I also recently joined Mastodon and you can <a
            rel="me"
            href="https://hachyderm.io/@gilcreque">find me tooting over there</a
          >
        </li>
      </ul>
    </aside>
    <section id="microblog" class="mx-2" set:html={}>
      <h2>Latest Blog</h2>
      {
        posts.items.slice(0, 1).map((post: any) => (
          <>
            <article set:html={post.content_html}>
              <time class="slab" datetime={post.date_published}>
                {formatPublishDate(post.date_published)}
              </time>
            </article>
          </>
        ))
      }
    </section>
    <footer class="mx-2">
      Powered by <a href="https://astro.build/"
        ><img
          src="img/astro.svg"
          alt="Astro Logo"
          width="24px"
          height="24px"
          class="inline"
        /> Astro</a
      > and hosted on <a href="https://netlify.com/"
        ><img
          src="img/netlify.svg"
          alt="Netlify Logo"
          width="24px"
          height="24px"
          class="inline"
        />
        Netlify</a
      >
    </footer>
  </body>
</html>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
